<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h2>계산기 구현5</h2>
    <div>
        <button onclick="main()">클릭</button>
    </div>
    <div id="output">계산 출력</div>
    <script>
        //첫번째로 입력받은 값 리턴
        function getInputNum1() {
            var num1 = Number(prompt("첫번째 숫자를 입력하세요."));
            return num1;
        };
        //두번째로 입력받은 값 리턴
        var n = 2;
        function getInputNum2() {
            var num2 = Number(prompt(n + "번째 숫자를 입력하세요."));
            n++;
            return num2;
        };
        //입력받은 연산자 리턴
        function getInputOper() {
            while (true) {
                var oper = prompt("사칙연산을 입력하세요.");
                if (oper === '+' || oper === '-' || oper === '*' || oper === '/' || oper === "q") {
                    return oper;
                } else {
                    alert("올바른 사칙연산을 입력해주세요.");
                }

            }
        };

        // 입력받은 숫자와 사칙연산 계산
        function calc(first, second, oper) {
            var result;
            if (oper === "+") {
                result = first + second;
            } else if (oper === "-") {
                result = first - second;
            } else if (oper === "*") {
                result = first * second;
            } else if (oper === "/") {
                result = first / second;
            } 
            return result;
        };

        //결과 출력
        function print(result) {
            var output = document.getElementById('output');
            output.innerHTML = "결과는 " + result;
        }
        
        //반복적인 입력 수행
        function main() {
            var result = getInputNum1();
            while(true) {
                var oper = getInputOper();
                if (oper === "q"){
                    break;
                }
                var second = getInputNum2();
                result = calc(result, second, oper);
            }
            print(result);
        };

    </script>
</body>

</html>